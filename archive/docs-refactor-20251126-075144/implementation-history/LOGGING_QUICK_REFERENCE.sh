#!/bin/bash
# Quick Reference: Logging Standards and Command-Line Options
# Source this file or run it to see examples

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  CP-WHISPERX-APP: LOGGING QUICK REFERENCE"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

echo "ğŸ“Š LOG LEVELS (from most to least verbose)"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  DEBUG    (0) - All messages: debug, info, warn, error, critical"
echo "  INFO     (1) - Info, warnings, errors, critical [DEFAULT]"
echo "  WARN     (2) - Warnings, errors, critical only"
echo "  ERROR    (3) - Errors and critical only"
echo "  CRITICAL (4) - Critical messages only"
echo ""

echo "ğŸ”§ BOOTSTRAP SCRIPT"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  # Standard bootstrap (INFO level)"
echo "  ./bootstrap.sh"
echo ""
echo "  # Debug mode"
echo "  ./bootstrap.sh --debug"
echo "  ./bootstrap.sh --log-level DEBUG"
echo ""
echo "  # Quiet mode (warnings and errors only)"
echo "  ./bootstrap.sh --log-level WARN"
echo ""
echo "  # Force recreate with model caching, minimal output"
echo "  ./bootstrap.sh --force --cache-models --log-level ERROR"
echo ""

echo "ğŸ“ PREPARE-JOB SCRIPT"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  # Standard job preparation (INFO level)"
echo "  ./prepare-job.sh --media movie.mp4 --workflow transcribe \\"
echo "    --source-language hi"
echo ""
echo "  # Debug mode for troubleshooting"
echo "  ./prepare-job.sh --media movie.mp4 --workflow transcribe \\"
echo "    --source-language hi --debug"
echo ""
echo "  # Explicit log level"
echo "  ./prepare-job.sh --media movie.mp4 --workflow translate \\"
echo "    --source-language hi --target-language en --log-level WARN"
echo ""

echo "ğŸš€ RUN-PIPELINE SCRIPT"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  # Standard pipeline run (INFO level)"
echo "  ./run-pipeline.sh -j job-20251125-user-0001"
echo ""
echo "  # Debug mode for detailed output"
echo "  ./run-pipeline.sh -j job-20251125-user-0001 --log-level DEBUG"
echo ""
echo "  # Error-only mode (for CI/CD)"
echo "  ./run-pipeline.sh -j job-20251125-user-0001 --log-level ERROR"
echo ""

echo "ğŸ”„ LOG LEVEL INHERITANCE"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  # Step 1: Prepare job with DEBUG level"
echo "  ./prepare-job.sh --media movie.mp4 --workflow transcribe \\"
echo "    --source-language hi --log-level DEBUG"
echo ""
echo "  # Step 2: Run pipeline (automatically inherits DEBUG from job config)"
echo "  ./run-pipeline.sh -j job-20251125-user-0001"
echo ""
echo "  Note: Pipeline reads LOG_LEVEL from job's .env file"
echo ""

echo "ğŸ“‚ LOG FILES"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  All logs automatically saved to: logs/"
echo "  Format: YYYYMMDD-HHMMSS-scriptname.log"
echo ""
echo "  Examples:"
echo "    logs/20251125-093000-bootstrap.log"
echo "    logs/20251125-094500-prepare-job.log"
echo "    out/2025/11/25/1/1/logs/99_pipeline_20251125_095000.log"
echo ""

echo "ğŸ” CHECKING LOG LEVELS"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  # Test log level filtering"
echo "  export LOG_LEVEL=WARN"
echo "  source scripts/common-logging.sh"
echo "  log_info \"This will NOT show\"  # Hidden at WARN level"
echo "  log_warn \"This WILL show\"      # Visible at WARN level"
echo "  log_error \"This WILL show\"     # Visible at WARN level"
echo ""

echo "ğŸ› TROUBLESHOOTING"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  Problem: Not seeing expected output"
echo "  Solution: Use --debug or --log-level DEBUG"
echo ""
echo "  Problem: Too much output"
echo "  Solution: Use --log-level WARN or --log-level ERROR"
echo ""
echo "  Problem: Need to debug specific stage"
echo "  Solution: Check logs in logs/ directory or job logs/"
echo ""

echo "âœ… QUICK TESTS"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  # Test bootstrap help"
echo "  ./bootstrap.sh --help"
echo ""
echo "  # Test prepare-job help"
echo "  ./prepare-job.sh --help"
echo ""
echo "  # Test run-pipeline help"
echo "  ./run-pipeline.sh --help"
echo ""
echo "  # Test logging levels"
echo "  ./bootstrap.sh --log-level DEBUG --help  # Should see debug messages"
echo "  ./bootstrap.sh --log-level ERROR --help  # Should see minimal output"
echo ""

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  For complete documentation, see: LOGGING_AND_FIXES_COMPLETE.md"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
